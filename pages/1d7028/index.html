<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>C语言指针二三事 | 轩辕李的博客</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/blog/img/favicon.ico">
    <meta name="description" content="轩辕李的技术博客,自我成长，变得更强">
    <meta name="keywords" content="个人技术博客,前端,后端,运维,技术文档,学习,面试,JavaScript,js,java,vue,python,css3,css,html5,Node,markdown,Kubernetes,Docker">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/blog/assets/css/0.styles.8b6f9cb2.css" as="style"><link rel="preload" href="/blog/assets/js/app.01ab09a8.js" as="script"><link rel="preload" href="/blog/assets/js/2.cb21dba0.js" as="script"><link rel="preload" href="/blog/assets/js/35.ea2eb292.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.cbae5994.js"><link rel="prefetch" href="/blog/assets/js/11.26bc7671.js"><link rel="prefetch" href="/blog/assets/js/12.392b3b8d.js"><link rel="prefetch" href="/blog/assets/js/13.97cc2b3c.js"><link rel="prefetch" href="/blog/assets/js/14.b79e5598.js"><link rel="prefetch" href="/blog/assets/js/15.4d568dd9.js"><link rel="prefetch" href="/blog/assets/js/16.7ad9f978.js"><link rel="prefetch" href="/blog/assets/js/17.c47d4b76.js"><link rel="prefetch" href="/blog/assets/js/18.fbaa3fcc.js"><link rel="prefetch" href="/blog/assets/js/19.18e1e200.js"><link rel="prefetch" href="/blog/assets/js/20.3b21dfb0.js"><link rel="prefetch" href="/blog/assets/js/21.a2e08dd0.js"><link rel="prefetch" href="/blog/assets/js/22.62c8aa6e.js"><link rel="prefetch" href="/blog/assets/js/23.d3ae3372.js"><link rel="prefetch" href="/blog/assets/js/24.9a14eb44.js"><link rel="prefetch" href="/blog/assets/js/25.3ffcdbe0.js"><link rel="prefetch" href="/blog/assets/js/26.4e3cd358.js"><link rel="prefetch" href="/blog/assets/js/27.8102072e.js"><link rel="prefetch" href="/blog/assets/js/28.39d6e807.js"><link rel="prefetch" href="/blog/assets/js/29.73d719e5.js"><link rel="prefetch" href="/blog/assets/js/3.43307d58.js"><link rel="prefetch" href="/blog/assets/js/30.42de7b92.js"><link rel="prefetch" href="/blog/assets/js/31.8e7b1f6c.js"><link rel="prefetch" href="/blog/assets/js/32.a5b7465f.js"><link rel="prefetch" href="/blog/assets/js/33.2c2cfdb0.js"><link rel="prefetch" href="/blog/assets/js/34.e456df99.js"><link rel="prefetch" href="/blog/assets/js/36.2d18424c.js"><link rel="prefetch" href="/blog/assets/js/37.e0439f11.js"><link rel="prefetch" href="/blog/assets/js/38.e3ca0fed.js"><link rel="prefetch" href="/blog/assets/js/39.121c55c9.js"><link rel="prefetch" href="/blog/assets/js/4.981852e7.js"><link rel="prefetch" href="/blog/assets/js/40.c09dfbff.js"><link rel="prefetch" href="/blog/assets/js/41.43ccf10c.js"><link rel="prefetch" href="/blog/assets/js/42.96587c01.js"><link rel="prefetch" href="/blog/assets/js/43.ac2e4f7a.js"><link rel="prefetch" href="/blog/assets/js/44.f8991bcc.js"><link rel="prefetch" href="/blog/assets/js/45.96c75153.js"><link rel="prefetch" href="/blog/assets/js/5.e552e1f2.js"><link rel="prefetch" href="/blog/assets/js/6.dd64a897.js"><link rel="prefetch" href="/blog/assets/js/7.63e76dfa.js"><link rel="prefetch" href="/blog/assets/js/8.009721ba.js"><link rel="prefetch" href="/blog/assets/js/9.7a30687e.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.8b6f9cb2.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/img/logo.png" alt="轩辕李的博客" class="logo"> <span class="site-name can-hide">轩辕李的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/blog/server/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/server/java/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/blog/server/spring/" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/blog/server/util/" class="nav-link">工具</a></li><li class="dropdown-item"><!----> <a href="/blog/server/distribution/" class="nav-link">分布式</a></li><li class="dropdown-item"><!----> <a href="/blog/server/think/" class="nav-link">心得</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/blog/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/web/htmlcss/" class="nav-link">HTML&amp;CSS</a></li><li class="dropdown-item"><!----> <a href="/blog/web/js/" class="nav-link">JavaScript</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维" class="dropdown-title"><a href="/blog/operation/" class="link-title">运维</a> <span class="title" style="display:none;">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/operation/linuxc/" class="nav-link">Linux &amp; C</a></li></ul></div></div><div class="nav-item"><a href="/blog/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/blog/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><a href="/blog/english-corner/" class="nav-link">英语角</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/blog/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/blog/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/blog/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/xuanyuanli/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.staticaly.com/gh/xuanyuanli/Img@master/picx/image.5k3g1yhljok0.jpg"> <div class="blogger-info"><h3>轩辕李</h3> <span>勇猛精进，星辰大海</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/blog/server/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/server/java/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/blog/server/spring/" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/blog/server/util/" class="nav-link">工具</a></li><li class="dropdown-item"><!----> <a href="/blog/server/distribution/" class="nav-link">分布式</a></li><li class="dropdown-item"><!----> <a href="/blog/server/think/" class="nav-link">心得</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/blog/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/web/htmlcss/" class="nav-link">HTML&amp;CSS</a></li><li class="dropdown-item"><!----> <a href="/blog/web/js/" class="nav-link">JavaScript</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维" class="dropdown-title"><a href="/blog/operation/" class="link-title">运维</a> <span class="title" style="display:none;">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/operation/linuxc/" class="nav-link">Linux &amp; C</a></li></ul></div></div><div class="nav-item"><a href="/blog/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/blog/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><a href="/blog/english-corner/" class="nav-link">英语角</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/blog/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/blog/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/blog/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/xuanyuanli/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Linux &amp; C</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/pages/1d7028/" aria-current="page" class="active sidebar-link">C语言指针二三事</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/blog/pages/1d7028/#起源" class="sidebar-link">起源</a></li><li class="sidebar-sub-header level2"><a href="/blog/pages/1d7028/#一、何为指针" class="sidebar-link">一、何为指针</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blog/pages/1d7028/#_1、c的特殊性" class="sidebar-link">1、C的特殊性</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/1d7028/#_2、初识指针" class="sidebar-link">2、初识指针</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/1d7028/#_3、函数中变更变量的值" class="sidebar-link">3、函数中变更变量的值</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/1d7028/#_4、指针的基础知识" class="sidebar-link">4、指针的基础知识</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/1d7028/#_5、利用指针解决问题" class="sidebar-link">5、利用指针解决问题</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/blog/pages/1d7028/#二、数组与指针" class="sidebar-link">二、数组与指针</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blog/pages/1d7028/#_1、函数形参、指针与数组" class="sidebar-link">1、函数形参、指针与数组</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/1d7028/#_2、指针与多维数组" class="sidebar-link">2、指针与多维数组</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/1d7028/#_3、多维数组与函数" class="sidebar-link">3、多维数组与函数</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/blog/pages/1d7028/#三、字符串与指针" class="sidebar-link">三、字符串与指针</a></li><li class="sidebar-sub-header level2"><a href="/blog/pages/1d7028/#四、结构与指针" class="sidebar-link">四、结构与指针</a></li><li class="sidebar-sub-header level2"><a href="/blog/pages/1d7028/#五、函数与指针" class="sidebar-link">五、函数与指针</a></li></ul></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/blog/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/blog/operation/#运维" data-v-06225672>运维</a></li><li data-v-06225672><a href="/blog/operation/#Linux &amp; C" data-v-06225672>Linux &amp; C</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/xuanyuanli" target="_blank" title="作者" class="beLink" data-v-06225672>轩辕李</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2018-05-10</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">C语言指针二三事<!----></h1>  <div class="theme-vdoing-content content__default"><h2 id="起源"><a href="#起源" class="header-anchor">#</a> 起源</h2> <p>想学一下UNIX系统编程，所以把C重学一遍，C中指针关联甚多，是重点也是难点。下面是我自己学习的总结，希望对你也有所帮助！</p> <h2 id="一、何为指针"><a href="#一、何为指针" class="header-anchor">#</a> 一、何为指针</h2> <h3 id="_1、c的特殊性"><a href="#_1、c的特殊性" class="header-anchor">#</a> 1、C的特殊性</h3> <p>C是一门很特殊的语言，特殊的地方在于它可能对计算机是友好的，对程序员并不太友好。<br>
常识上来说，我们是不需要知道一个变量在内存中的实际地址的，对于我们实现业务没有意义。但早期编写C的这帮计算机科学家个个聪明绝顶，而且做得是底层研究，他们熟悉汇编，更熟悉计算机硬件原理，他们只是想做一个抽象层，编出一门语言来简化系统软件开发。<br>
现在来看，对于学习JS、Java或是Python的人来说，C的编写过于复杂了，不够简洁。不过反过来看，我们也不能太苛刻，相比汇编语言来说，C已经好太多了。</p> <h3 id="_2、初识指针"><a href="#_2、初识指针" class="header-anchor">#</a> 2、初识指针</h3> <p>说到指针，它的定义就是：用于存储变量的内存地址。比如一个变量<code>int num = 0;</code>来说，代码执行的时候必然会给他分配内存，如果你是一个高端玩家，想要知道num储存在内存具体的那块地址上，那么可以用<code>&amp;num</code>来获得实际地址。<br>
执行代码：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d  %p&quot;</span><span class="token punctuation">,</span> num<span class="token punctuation">,</span> <span class="token operator">&amp;</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>执行结果大致为：</p> <div class="language- extra-class"><pre class="language-text"><code>10  0060FF0C
</code></pre></div><p>那么获得一个内存地址有什么用呢？<br>
我们先来看它在应用方面来讲最大的作用。</p> <h3 id="_3、函数中变更变量的值"><a href="#_3、函数中变更变量的值" class="header-anchor">#</a> 3、函数中变更变量的值</h3> <p>如果要实现两个int值互换，那么非常简单：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">int</span> num1 <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> num2 <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> temp <span class="token operator">=</span> num2<span class="token punctuation">;</span>
num2 <span class="token operator">=</span> num1<span class="token punctuation">;</span>
num1 <span class="token operator">=</span> temp<span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d %d&quot;</span><span class="token punctuation">,</span>num1<span class="token punctuation">,</span>num2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如果要实现一个<code>interchange</code>函数呢，你可能想到：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">interchange</span><span class="token punctuation">(</span><span class="token keyword">int</span> num1<span class="token punctuation">,</span> <span class="token keyword">int</span> num2<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> temp <span class="token operator">=</span> num2<span class="token punctuation">;</span>
    num2 <span class="token operator">=</span> num1<span class="token punctuation">;</span>
    num1 <span class="token operator">=</span> temp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在main函数中调用：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> num1 <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> num2 <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
    <span class="token function">interchange</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span>num2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d %d&quot;</span><span class="token punctuation">,</span>num1<span class="token punctuation">,</span>num2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>打印出来的结果很有可能不符合预期哦，实际上两个数并没有进行交换。<br>
这是怎么回事儿呢？这是由C语言的特性所决定的，num1和num2实际上只传递了值，传递了副本，所以可以这么看：在interchange()函数中的num1和num2已经是独立的值，已经和main()中的两个数没啥关系了，他们怎么改变也不会影响到main()中的num1和num2了。<br>
说道这里，我们遇到了第一个问题，怎么解决呢？需要指针登场了！</p> <h3 id="_4、指针的基础知识"><a href="#_4、指针的基础知识" class="header-anchor">#</a> 4、指针的基础知识</h3> <p>先看下指针的基础知识，然后我们可以用这些知识来解决上述问题。<br>
先有一个表达式：<code>int num = 10；</code>，指针的知识：</p> <ul><li>获得一个变量的指针：<code>&amp;num</code></li> <li>指针声明：<code>int * pnum = &amp;num</code></li> <li>解指针：<code>*pnum = num</code></li></ul> <p>这里容易让人迷惑的地方是指针声明和解指针用的都是<code>*</code>号。<br>
简单来说，<code>&amp;num</code>也是一个类型，是一个什么类型呢？指针类型。那么如何声明指针类型：<code>int * pnum;</code>，<code>pnum</code>就是一个指针类型。<br> <code>pnum</code>是一个指针，那么我想获取它的实际表达值怎么办？也就是怎么解这个指针呢？也用到<code>*</code>号。所以<code>*pnum</code>其实和<code>num</code>是相等的。</p> <h3 id="_5、利用指针解决问题"><a href="#_5、利用指针解决问题" class="header-anchor">#</a> 5、利用指针解决问题</h3> <p>所以改良后的<code>interchange()</code>函数如下：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">interchange</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span> num1<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span> num2<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> temp <span class="token operator">=</span> <span class="token operator">*</span>num2<span class="token punctuation">;</span>
    <span class="token operator">*</span>num2 <span class="token operator">=</span> <span class="token operator">*</span>num1<span class="token punctuation">;</span>
    <span class="token operator">*</span>num1 <span class="token operator">=</span> temp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>调用：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token function">interchange</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>num1<span class="token punctuation">,</span> <span class="token operator">&amp;</span>num2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>interchange()</code>函数用了指针和解指针的方式巧妙的改变了<code>num1</code>和<code>num2</code>变量的值。</p> <h2 id="二、数组与指针"><a href="#二、数组与指针" class="header-anchor">#</a> 二、数组与指针</h2> <p>定义一个数组，非常简单：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">int</span> powers<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>下面开始引入数组与指针的关系了。<br>
主要的规则有以下几点：</p> <ul><li>数组名本身就是一个指针，是数组首元素的地址。也就是说<code>*powers</code>等于<code>powers[0]</code></li> <li>指针+1，则指针的值递增它所指向类型的大小。也就是说<code>powers+1</code>等于<code>&amp;powers[1]</code></li> <li>对于指针来说，可以用++操作，比如powers++</li></ul> <p>多举几个等式的例子，感受一下：</p> <div class="language-c extra-class"><pre class="language-c"><code>powers <span class="token operator">=</span> <span class="token operator">&amp;</span>powers<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
powers <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token operator">&amp;</span>powers<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token operator">*</span><span class="token punctuation">(</span>powers <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> powers<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="_1、函数形参、指针与数组"><a href="#_1、函数形参、指针与数组" class="header-anchor">#</a> 1、函数形参、指针与数组</h3> <p>数组可以理解为是一种特殊的指针，所以下面的四种函数原型是等价的：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>ar<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">int</span> ar<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2、指针与多维数组"><a href="#_2、指针与多维数组" class="header-anchor">#</a> 2、指针与多维数组</h3> <p>先看一个多维数组的定义：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">int</span> zippo<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>对这个多维数组进行分析：</p> <ul><li><code>zippo[0]</code>是一个占用一个int大小对象的地址，而<code>zippo</code>是一个占用两个int大小对象的地址。他们两个都开始于同一个地址，所以<code>zippo</code>和<code>zippo[0]</code>的值相同</li> <li>解指针可以用<code>[]</code>运算符，也可以用<code>**</code>运算符.<code>*zippo</code>等于<code>zippo[0]</code>，<code>**zippo</code>等于<code>zippo[0][0]</code></li></ul> <p>请说明以下两个表达式的不同：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token punctuation">(</span><span class="token operator">*</span> pz<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">//1</span>
<span class="token keyword">int</span> <span class="token operator">*</span> pax<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">//2</span>
</code></pre></div><p>对于表达式1来说，<code>pz</code>指向了一个内含两个int类型值的数组。可能不太好理解，先来看<code>int *pz</code>和<code>int apz[2]</code>有何联系，<code>pz</code>是一个指针类型，<code>apz</code>也是一个指针类型，而且他们都是指向int类型值的指针，所以这样赋值也不会有什么错误：<code>pz=apz</code>。通过这个实验，可以更加深刻的理解前面所说的<strong>数组可以理解为一种特殊的指针</strong>。<br>
回来看，<code>int (* pz)=int pz[*]</code>，那么<code>int (* pz)[2]=int pz[*][2]</code>。<br>
那么对于表达式2呢，分解来看，<code>pax[2]</code>声明了一个包含了两个int类型值的数组，前面加上了指针声明的符号，所以<code>int * pax[2]=int pax[2][*]</code></p> <h3 id="_3、多维数组与函数"><a href="#_3、多维数组与函数" class="header-anchor">#</a> 3、多维数组与函数</h3> <p>如果多维数组作为参数来传递，那么函数原型声明上也有要注意的一些地方，先来看正确的声明方式：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token punctuation">(</span><span class="token operator">*</span> ar<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> rows<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">int</span> ar<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> rows<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>再来看错误的方式：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">int</span> ar<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> rows<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>为什么下面是错的呢，是因为编译器会把数组表示法转换为指针表示法，那么就必须知道ar所指向的对象大小。</p> <h2 id="三、字符串与指针"><a href="#三、字符串与指针" class="header-anchor">#</a> 三、字符串与指针</h2> <p>在C中，字符串是以空字符(\0)结尾的char类型数组。<br>
那么我们很容易想到他的定义：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">char</span> mesg<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;hello world&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> <span class="token operator">*</span> pmesg <span class="token operator">=</span> <span class="token string">&quot;hello world&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>根据前面数组的内容，这两种定义都是ok的。<br>
那么他们有什么异同呢？还是说使用的时候任何情况下都可以看成是含义相同的？<br>
这里又看出来C的复杂性，他们还是有很大差异的。主要的差异就是：char数组字符串声明的时候已经分配了指针空间的大小，在这里是sizeof(char) * 11；而char指针字符串没有分配具体的空间大小，这在某些情况下可能造成内存溢出。<br>
可以先简单的记住这个规则：<code>scanf()</code>最好使用char数组字符串的声明方式。</p> <h2 id="四、结构与指针"><a href="#四、结构与指针" class="header-anchor">#</a> 四、结构与指针</h2> <p>C中的结构如：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">struct</span> <span class="token class-name">node</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> num<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>跟Java中的Class相似。<br>
这里要讲到结构指针，作用和前面的函数中变更变量的值差不多。<br>
先思考一个问题，如果一个结构作为入参传入一个函数中，函数中修改结构的值会影响到main()函数中结构的值么？
可能答案你已经猜出来了，是不能的。这里还是要借助指针来实现：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">struct_demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">struct</span> <span class="token class-name">node</span> tn<span class="token punctuation">;</span>
    tn<span class="token punctuation">.</span>num <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token function">struct_demo_swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span>tn<span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">struct_demo_swap</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">node</span> <span class="token operator">*</span> temp<span class="token punctuation">)</span><span class="token punctuation">{</span>
    temp<span class="token operator">-&gt;</span>num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>打印出来的结果是<code>tn.num=10</code>。<br>
注意，这里对于指针访问结构成员有两种方式：<code>(*temp).num</code>或<code>temp-&gt;num</code></p> <h2 id="五、函数与指针"><a href="#五、函数与指针" class="header-anchor">#</a> 五、函数与指针</h2> <p>在C中，原始就支持JS的闭包或Java8的Lamda表达式，也就是支持函数作为参数来传递。<br>
在C中，函数也有地址，指向函数的指针中存储着函数代码的起始处的地址。<br>
一个规则：函数名可以用于表示函数的地址。看代码：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">ToUpper</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">*</span>pf<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
pf <span class="token operator">=</span> ToUpper<span class="token punctuation">;</span>
</code></pre></div><p>可以看到第二行声明了一个函数指针叫<code>pf</code>，这个函数指针定义了返回值和形参列表，只要是和他结构一样的，都可以赋值给他。这里<code>pf = ToUpper;</code>没有什么问题。<br>
这样的规则会存在一些小问题：<code>*pf</code>实际上表示<code>ToUpper</code>函数，而pf和函数名又可以互换，所以<code>(*pf)(&quot;abc&quot;)</code>和<code>pf(&quot;abc&quot;)</code>、<code>ToUpper(&quot;abc&quot;)</code>又都是等价的。<br>
下面看一个函数指针最常用的用法，就是作为入参：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">*</span> fp<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <p><strong>关于指针的知识就总结完了，希望你有所收获！</strong></p></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/xuanyuanli/blog/edit/main/docs/03.运维/01.Linux &amp; C/01.C语言指针二三事.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/blog/tags/?tag=C%E6%8C%87%E9%92%88" title="标签">#C指针</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/07/28, 18:37:42</span></div></div> <div class="page-nav-wapper"><!----> <!----></div></div> <div class="article-list"><div class="article-title"><a href="/blog/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/blog/pages/f36bf8/"><div>
            Java 文件操作
            <!----></div></a> <span class="date">09-12</span></dt></dl><dl><dd>02</dd> <dt><a href="/blog/pages/88c2d0/"><div>
            Java IO
            <!----></div></a> <span class="date">08-25</span></dt></dl><dl><dd>03</dd> <dt><a href="/blog/pages/d2e513/"><div>
            Java集合
            <!----></div></a> <span class="date">08-06</span></dt></dl> <dl><dd></dd> <dt><a href="/blog/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:xuanyuanli999@gmail.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/xuanyuanli" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2022
    <span>xuanyuanli | <a href="https://github.com/xuanyuanli/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/blog/assets/js/app.01ab09a8.js" defer></script><script src="/blog/assets/js/2.cb21dba0.js" defer></script><script src="/blog/assets/js/35.ea2eb292.js" defer></script>
  </body>
</html>
