---
title: JavaScriptå†ä»£ç‰ˆæœ¬æ–°ç‰¹æ€§
date: 2020-02-06 21:20:00
permalink: /pages/js-versions/
categories:
  - å‰ç«¯
  - JavaScript
tags:
  - JavaScriptç‰ˆæœ¬æ–°ç‰¹æ€§
  - ECMAScript
author: 
  name: è½©è¾•æ
  link: https://github.com/xuanyuanli
---

## å‰è¨€

JavaScript è¯ç”Ÿäº1995å¹´ï¼Œç”± Brendan Eich åœ¨ Netscape å…¬å¸ä»…ç”¨10å¤©æ—¶é—´åˆ›å»ºã€‚ä»æœ€åˆç®€å•çš„ç½‘é¡µè„šæœ¬è¯­è¨€ï¼Œå‘å±•åˆ°ä»Šå¤©æˆä¸ºå…¨æ ˆå¼€å‘çš„ä¸»åŠ›è¯­è¨€ä¹‹ä¸€ã€‚

JavaScript çš„æ ‡å‡†åŒ–å·¥ä½œç”± ECMA International çš„ TC39 æŠ€æœ¯å§”å‘˜ä¼šè´Ÿè´£ï¼Œæ ‡å‡†åç§°ä¸º ECMAScriptï¼ˆESï¼‰ã€‚ä»2015å¹´ ES6 å‘å¸ƒå¼€å§‹ï¼ŒJavaScript è¿›å…¥äº†å¿«é€Ÿè¿­ä»£æœŸ,æ¯å¹´å‘å¸ƒä¸€ä¸ªæ–°ç‰ˆæœ¬ï¼Œè¯­è¨€ç‰¹æ€§ä¸æ–­ä¸°å¯Œå’Œå®Œå–„ã€‚

æœ¬æ–‡ç³»ç»Ÿæ¢³ç†äº† JavaScript/ECMAScript å„ä¸ªç‰ˆæœ¬çš„æ ¸å¿ƒç‰¹æ€§å’Œå‘å±•å†ç¨‹ã€‚å¯¹äºæ¯ä¸ªç‰ˆæœ¬ï¼Œæˆ‘ä»¬ä¼šé‡ç‚¹ä»‹ç»é‚£äº›å½±å“æ·±è¿œçš„ç‰¹æ€§å’Œé‡è¦çš„è¯­æ³•æ”¹è¿›ã€‚

<!-- more -->

**é˜…è¯»å»ºè®®**ï¼š
- æ ‡è®°ä¸º **ç²—ä½“** çš„ç‰¹æ€§é€šå¸¸æ˜¯è¯¥ç‰ˆæœ¬æœ€é‡è¦çš„æ”¹è¿›
- ES6ï¼ˆES2015ï¼‰æ˜¯ä¸€ä¸ªé‡Œç¨‹ç¢‘ç‰ˆæœ¬ï¼Œå»ºè®®é‡ç‚¹å…³æ³¨
- ä»£ç ç¤ºä¾‹å¯ä»¥å¸®åŠ©ä½ å¿«é€Ÿç†è§£æ–°ç‰¹æ€§çš„ç”¨æ³•

## JavaScriptç‰ˆæœ¬å‘å¸ƒæµç¨‹

JavaScript ç”± TC39ï¼ˆECMA International çš„ç¬¬39å·æŠ€æœ¯å§”å‘˜ä¼šï¼‰ç®¡ç†ï¼Œé€šè¿‡ç¤¾åŒºé©±åŠ¨çš„æ–¹å¼åˆ¶å®šæ ‡å‡†ï¼Œé‡‡ç”¨`ææ¡ˆé©±åŠ¨çš„å‘å¸ƒæ¨¡å‹ï¼ˆProposal-Based Release Modelï¼‰`ã€‚

### å…³é”®ç‰¹ç‚¹
- è‡ª ES2015 èµ·ï¼Œæ¯å¹´å‘å¸ƒä¸€ä¸ªæ–°ç‰ˆæœ¬ï¼ˆé€šå¸¸åœ¨6æœˆï¼‰
- ç‰ˆæœ¬å‘½åé‡‡ç”¨å¹´ä»½ï¼ˆå¦‚ ES2015ã€ES2016ã€ES2017â€¦â€¦ï¼‰
- å¼€å‘åŸºäºææ¡ˆï¼ˆProposalï¼‰ç³»ç»Ÿ

### å…¨æµç¨‹æ­¥éª¤

#### 1. ææ¡ˆæäº¤ï¼ˆStage 0: Strawpersonï¼‰
- ä»»ä½• TC39 æˆå‘˜æˆ–è´¡çŒ®è€…å¯ä»¥æäº¤æƒ³æ³•
- åªéœ€åœ¨ TC39 ä¼šè®®ä¸Šå±•ç¤ºå³å¯è¿›å…¥ Stage 0
- æ­¤é˜¶æ®µçš„ææ¡ˆå¯èƒ½ä¼šè¢«å®Œå…¨æ”¹å˜æˆ–åºŸå¼ƒ

#### 2. ææ¡ˆé˜¶æ®µï¼ˆStage 1: Proposalï¼‰
- æ˜ç¡®é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ
- æä¾›ç¤ºä¾‹å’Œé«˜å±‚APIæè¿°
- è¯†åˆ«æ½œåœ¨çš„å®ç°æŒ‘æˆ˜

#### 3. è‰æ¡ˆé˜¶æ®µï¼ˆStage 2: Draftï¼‰
- æä¾›ç²¾ç¡®çš„è¯­æ³•å’Œè¯­ä¹‰æè¿°
- é¢„æœŸè¯¥ç‰¹æ€§æœ€ç»ˆä¼šè¢«çº³å…¥æ ‡å‡†
- å¯èƒ½ä¼šæœ‰å®éªŒæ€§çš„å®ç°

#### 4. å€™é€‰é˜¶æ®µï¼ˆStage 3: Candidateï¼‰
- è§„èŒƒæ–‡æœ¬å®Œæˆï¼Œç­‰å¾…å®ç°å’Œç”¨æˆ·åé¦ˆ
- è‡³å°‘éœ€è¦ä¸¤ä¸ªç¬¦åˆè§„èŒƒçš„å®ç°
- åªæœ‰åœ¨å®ç°è¿‡ç¨‹ä¸­å‘ç°å…³é”®é—®é¢˜æ‰ä¼šä¿®æ”¹

#### 5. å®Œæˆé˜¶æ®µï¼ˆStage 4: Finishedï¼‰
- é€šè¿‡ Test262 éªŒæ”¶æµ‹è¯•
- è‡³å°‘ä¸¤ä¸ªé€šè¿‡æµ‹è¯•çš„å®ç°
- ç¼–è¾‘ç­¾å­—ç¡®è®¤
- å°†åœ¨ä¸‹ä¸€ä¸ªå¹´åº¦ç‰ˆæœ¬ä¸­å‘å¸ƒ

#### 6. æ­£å¼å‘å¸ƒ
- æ¯å¹´6æœˆå‘å¸ƒæ–°ç‰ˆæœ¬
- åªåŒ…å«å·²è¾¾åˆ° Stage 4 çš„ææ¡ˆ
- ç‰ˆæœ¬ä»¥å¹´ä»½å‘½åï¼ˆå¦‚ ES2024ï¼‰

#### 7. åç»­æ›´æ–°
- è§„èŒƒé”™è¯¯ä¿®æ­£éšæ—¶è¿›è¡Œ
- ä¸å½±å“å·²å‘å¸ƒç‰ˆæœ¬çš„ç¨³å®šæ€§

### æ²»ç†æ¨¡å‹
- ä»£è¡¨ç»„ç»‡ï¼šå„å¤§æµè§ˆå™¨å‚å•†ï¼ˆGoogleã€Mozillaã€Appleã€Microsoftï¼‰ã€ç§‘æŠ€å…¬å¸ï¼ˆMetaã€Netflixï¼‰ã€å­¦æœ¯æœºæ„ç­‰
- æ²»ç†æ¨¡å‹ï¼šå…±è¯†é©±åŠ¨ï¼ˆéœ€è¦å§”å‘˜ä¼šè¾¾æˆå…±è¯†ï¼‰

## ES1ï¼ˆ1997ï¼‰
1997å¹´6æœˆå‘å¸ƒï¼Œæ˜¯ JavaScript çš„ç¬¬ä¸€ä¸ªæ­£å¼æ ‡å‡†ç‰ˆæœ¬ã€‚

### æ ¸å¿ƒç‰¹æ€§
- **åŸºç¡€è¯­æ³•**ï¼šå˜é‡å£°æ˜ã€æ•°æ®ç±»å‹ã€è¿ç®—ç¬¦
- **æ§åˆ¶ç»“æ„**ï¼š`if/else`ã€`for`ã€`while`ã€`switch`
- **å‡½æ•°**ï¼šå‡½æ•°å£°æ˜ã€å‡½æ•°è¡¨è¾¾å¼
- **å¯¹è±¡**ï¼šåŸºäºåŸå‹çš„å¯¹è±¡ç³»ç»Ÿ
- **æ•°ç»„**ï¼šåŸºæœ¬æ•°ç»„æ“ä½œ
- **å­—ç¬¦ä¸²**ï¼šå­—ç¬¦ä¸²å¤„ç†æ–¹æ³•

## ES2ï¼ˆ1998ï¼‰
1998å¹´6æœˆå‘å¸ƒï¼Œä¸»è¦æ˜¯ç¼–è¾‘æ€§ä¿®æ”¹ä»¥ç¬¦åˆ ISO/IEC 16262 å›½é™…æ ‡å‡†ã€‚

### ä¸»è¦æ”¹è¿›
- è§„èŒƒæ–‡æœ¬çš„æ ¼å¼åŒ–å’Œç¼–è¾‘ä¿®æ­£
- ä¸ ISO/IEC 16262 æ ‡å‡†ä¿æŒä¸€è‡´

## ES3ï¼ˆ1999ï¼‰
1999å¹´12æœˆå‘å¸ƒï¼Œæ˜¯ JavaScript æˆç†Ÿçš„é‡è¦ç‰ˆæœ¬ã€‚

### æ ¸å¿ƒç‰¹æ€§
- **æ­£åˆ™è¡¨è¾¾å¼**ï¼šå†…ç½®æ­£åˆ™è¡¨è¾¾å¼æ”¯æŒ
- **å¼‚å¸¸å¤„ç†**ï¼š`try/catch/finally` è¯­å¥
- **æ›´å¥½çš„å­—ç¬¦ä¸²å¤„ç†**ï¼š`substring`ã€`concat`ã€`match`ã€`replace`ã€`split` ç­‰æ–¹æ³•
- **æ›´å¤šæ•°ç»„æ–¹æ³•**ï¼š`push`ã€`pop`ã€`shift`ã€`unshift`ã€`splice` ç­‰
- **æ ¼å¼åŒ–è¾“å‡º**ï¼š`toFixed`ã€`toExponential`ã€`toPrecision`

ç¤ºä¾‹ï¼š
```javascript
// æ­£åˆ™è¡¨è¾¾å¼
var pattern = /hello/i;
var text = "Hello World";
console.log(pattern.test(text)); // true

// å¼‚å¸¸å¤„ç†
try {
    throw new Error("è‡ªå®šä¹‰é”™è¯¯");
} catch (e) {
    console.log(e.message);
} finally {
    console.log("æ€»æ˜¯æ‰§è¡Œ");
}

// æ•°ç»„æ–¹æ³•
var arr = [1, 2, 3];
arr.push(4);
console.log(arr); // [1, 2, 3, 4]
```

## ES4ï¼ˆåºŸå¼ƒï¼‰
ES4 è®¡åˆ’å¼•å…¥å¤§é‡æ–°ç‰¹æ€§ï¼ŒåŒ…æ‹¬ç±»ã€æ¨¡å—ã€ç±»å‹æ³¨è§£ç­‰ï¼Œä½†ç”±äºææ¡ˆè¿‡äºæ¿€è¿›ï¼Œæœ€ç»ˆè¢«åºŸå¼ƒã€‚éƒ¨åˆ†ç‰¹æ€§åæ¥åœ¨ ES6 ä¸­å®ç°ã€‚

## ES5ï¼ˆ2009ï¼‰
2009å¹´12æœˆå‘å¸ƒï¼Œæ˜¯ ES3 ä¹‹åçš„é¦–ä¸ªé‡å¤§æ›´æ–°ï¼Œé—´éš”äº†10å¹´ã€‚

### é©å‘½æ€§ç‰¹æ€§
- **ä¸¥æ ¼æ¨¡å¼ï¼ˆStrict Modeï¼‰**ï¼š`"use strict"` å¯ç”¨æ›´ä¸¥æ ¼çš„è¯­æ³•æ£€æŸ¥
  ```javascript
  "use strict";
  x = 3.14; // æŠ¥é”™ï¼šæœªå£°æ˜å˜é‡
  ```

- **JSON æ”¯æŒ**ï¼šåŸç”Ÿ `JSON.parse()` å’Œ `JSON.stringify()`
  ```javascript
  var obj = {name: "å¼ ä¸‰", age: 25};
  var json = JSON.stringify(obj);
  var parsed = JSON.parse(json);
  ```

### å¯¹è±¡å¢å¼º
- **è®¿é—®å™¨å±æ€§**ï¼š`Object.defineProperty()`ã€`Object.defineProperties()`
  ```javascript
  var person = {};
  Object.defineProperty(person, "name", {
      get: function() { return this._name; },
      set: function(value) { this._name = value.toUpperCase(); }
  });
  ```

- **å¯¹è±¡æ–¹æ³•**ï¼š
  - `Object.create()`ï¼šåŸºäºåŸå‹åˆ›å»ºå¯¹è±¡
  - `Object.keys()`ï¼šè·å–å¯¹è±¡çš„é”®
  - `Object.seal()`ï¼šå¯†å°å¯¹è±¡
  - `Object.freeze()`ï¼šå†»ç»“å¯¹è±¡
  - `Object.preventExtensions()`ï¼šé˜²æ­¢æ‰©å±•

### æ•°ç»„å¢å¼º
- **æ•°ç»„è¿­ä»£æ–¹æ³•**ï¼š
  ```javascript
  var arr = [1, 2, 3, 4, 5];
  
  // forEach
  arr.forEach(function(item) { console.log(item); });
  
  // map
  var doubled = arr.map(function(item) { return item * 2; });
  
  // filter
  var evens = arr.filter(function(item) { return item % 2 === 0; });
  
  // reduce
  var sum = arr.reduce(function(acc, item) { return acc + item; }, 0);
  
  // some å’Œ every
  var hasEven = arr.some(function(item) { return item % 2 === 0; });
  var allPositive = arr.every(function(item) { return item > 0; });
  ```

- **æ•°ç»„æ–¹æ³•**ï¼š`Array.isArray()`ã€`indexOf()`ã€`lastIndexOf()`

### å…¶ä»–æ”¹è¿›
- **`Function.prototype.bind()`**ï¼šç»‘å®šå‡½æ•°çš„ `this` å€¼
  ```javascript
  var module = {
      x: 42,
      getX: function() { return this.x; }
  };
  var boundGetX = module.getX.bind(module);
  console.log(boundGetX()); // 42
  ```

- **`String.prototype.trim()`**ï¼šå»é™¤å­—ç¬¦ä¸²é¦–å°¾ç©ºç™½

## ES5.1ï¼ˆ2011ï¼‰
2011å¹´6æœˆå‘å¸ƒï¼Œæ˜¯ ES5 çš„ç»´æŠ¤ç‰ˆæœ¬ã€‚

### ä¸»è¦æ”¹è¿›
- ä¿®æ­£è§„èŒƒä¸­çš„æ­§ä¹‰å’Œé”™è¯¯
- ä¸ ISO/IEC 16262:2011 ä¿æŒä¸€è‡´

## ES6 / ES2015ï¼ˆ2015ï¼‰
2015å¹´6æœˆå‘å¸ƒï¼Œæ˜¯ JavaScript å†å²ä¸Šæœ€é‡è¦çš„ç‰ˆæœ¬ï¼Œå¼•å…¥äº†å¤§é‡ç°ä»£åŒ–ç‰¹æ€§ã€‚

### é©å‘½æ€§ç‰¹æ€§

#### 1. let å’Œ const
- **å—çº§ä½œç”¨åŸŸ**ï¼šè§£å†³ `var` çš„å˜é‡æå‡é—®é¢˜
  ```javascript
  // var çš„é—®é¢˜
  for (var i = 0; i < 3; i++) {
      setTimeout(function() { console.log(i); }, 100);
  }
  // è¾“å‡ºï¼š3 3 3
  
  // let è§£å†³
  for (let i = 0; i < 3; i++) {
      setTimeout(function() { console.log(i); }, 100);
  }
  // è¾“å‡ºï¼š0 1 2
  
  // const å¸¸é‡
  const PI = 3.14159;
  // PI = 3; // æŠ¥é”™
  ```

#### 2. ç®­å¤´å‡½æ•°
- **ç®€æ´è¯­æ³•**ï¼šæ›´ç®€æ´çš„å‡½æ•°è¡¨è¾¾å¼
- **è¯æ³• this**ï¼šä¸ç»‘å®šè‡ªå·±çš„ `this`
  ```javascript
  // ä¼ ç»Ÿå‡½æ•°
  var add = function(a, b) {
      return a + b;
  };
  
  // ç®­å¤´å‡½æ•°
  const add = (a, b) => a + b;
  
  // this ç»‘å®š
  function Timer() {
      this.seconds = 0;
      setInterval(() => {
          this.seconds++; // this æŒ‡å‘ Timer å®ä¾‹
      }, 1000);
  }
  ```

#### 3. ç±»ï¼ˆClassï¼‰
- **è¯­æ³•ç³–**ï¼šæ›´æ¸…æ™°çš„é¢å‘å¯¹è±¡ç¼–ç¨‹
  ```javascript
  class Person {
      constructor(name, age) {
          this.name = name;
          this.age = age;
      }
      
      sayHello() {
          console.log(`ä½ å¥½ï¼Œæˆ‘æ˜¯${this.name}`);
      }
      
      static species() {
          return "æ™ºäºº";
      }
  }
  
  class Student extends Person {
      constructor(name, age, grade) {
          super(name, age);
          this.grade = grade;
      }
      
      study() {
          console.log(`${this.name}æ­£åœ¨å­¦ä¹ `);
      }
  }
  ```

#### 4. æ¨¡å—ç³»ç»Ÿ
- **ES6 æ¨¡å—**ï¼šåŸç”Ÿæ¨¡å—æ”¯æŒ
  ```javascript
  // math.js
  export const PI = 3.14159;
  export function add(a, b) {
      return a + b;
  }
  export default class Calculator {
      // ...
  }
  
  // main.js
  import Calculator, { PI, add } from './math.js';
  import * as math from './math.js';
  ```

#### 5. æ¨¡æ¿å­—ç¬¦ä¸²
- **å­—ç¬¦ä¸²æ’å€¼**ï¼šæ›´æ–¹ä¾¿çš„å­—ç¬¦ä¸²æ‹¼æ¥
  ```javascript
  const name = "å¼ ä¸‰";
  const age = 25;
  
  // ä¼ ç»Ÿæ–¹å¼
  var msg = "æˆ‘æ˜¯" + name + "ï¼Œä»Šå¹´" + age + "å²";
  
  // æ¨¡æ¿å­—ç¬¦ä¸²
  const msg = `æˆ‘æ˜¯${name}ï¼Œä»Šå¹´${age}å²`;
  
  // å¤šè¡Œå­—ç¬¦ä¸²
  const html = `
      <div>
          <h1>${name}</h1>
          <p>å¹´é¾„ï¼š${age}</p>
      </div>
  `;
  ```

#### 6. è§£æ„èµ‹å€¼
- **ä¾¿æ·æå–**ï¼šä»æ•°ç»„æˆ–å¯¹è±¡ä¸­æå–å€¼
  ```javascript
  // æ•°ç»„è§£æ„
  const [a, b, c] = [1, 2, 3];
  const [first, ...rest] = [1, 2, 3, 4, 5];
  
  // å¯¹è±¡è§£æ„
  const {name, age} = {name: "å¼ ä¸‰", age: 25};
  const {name: userName, age: userAge} = {name: "å¼ ä¸‰", age: 25};
  
  // å‡½æ•°å‚æ•°è§£æ„
  function greet({name, age}) {
      console.log(`${name}ä»Šå¹´${age}å²`);
  }
  greet({name: "å¼ ä¸‰", age: 25});
  ```

#### 7. é»˜è®¤å‚æ•°ã€å‰©ä½™å‚æ•°ã€å±•å¼€è¿ç®—ç¬¦
```javascript
// é»˜è®¤å‚æ•°
function greet(name = "è®¿å®¢") {
    console.log(`ä½ å¥½ï¼Œ${name}`);
}

// å‰©ä½™å‚æ•°
function sum(...numbers) {
    return numbers.reduce((acc, num) => acc + num, 0);
}
console.log(sum(1, 2, 3, 4)); // 10

// å±•å¼€è¿ç®—ç¬¦
const arr1 = [1, 2, 3];
const arr2 = [...arr1, 4, 5, 6];

const obj1 = {a: 1, b: 2};
const obj2 = {...obj1, c: 3};
```

#### 8. Promise
- **å¼‚æ­¥ç¼–ç¨‹**ï¼šæ›´ä¼˜é›…çš„å¼‚æ­¥å¤„ç†
  ```javascript
  // åˆ›å»º Promise
  const promise = new Promise((resolve, reject) => {
      setTimeout(() => {
          resolve("æˆåŠŸ");
          // reject(new Error("å¤±è´¥"));
      }, 1000);
  });
  
  // ä½¿ç”¨ Promise
  promise
      .then(result => console.log(result))
      .catch(error => console.error(error))
      .finally(() => console.log("å®Œæˆ"));
  
  // Promise é“¾å¼è°ƒç”¨
  fetch('/api/user')
      .then(response => response.json())
      .then(data => console.log(data))
      .catch(error => console.error(error));
  ```

#### 9. Symbol
- **å”¯ä¸€æ ‡è¯†ç¬¦**ï¼šåˆ›å»ºå”¯ä¸€çš„å±æ€§é”®
  ```javascript
  const sym1 = Symbol('æè¿°');
  const sym2 = Symbol('æè¿°');
  console.log(sym1 === sym2); // false
  
  // ä½œä¸ºå¯¹è±¡å±æ€§
  const obj = {
      [Symbol('id')]: 123
  };
  ```

#### 10. è¿­ä»£å™¨å’Œç”Ÿæˆå™¨
```javascript
// è¿­ä»£å™¨
const obj = {
    data: [1, 2, 3],
    [Symbol.iterator]() {
        let index = 0;
        return {
            next: () => {
                if (index < this.data.length) {
                    return {value: this.data[index++], done: false};
                }
                return {done: true};
            }
        };
    }
};

// ç”Ÿæˆå™¨
function* fibonacci() {
    let [prev, curr] = [0, 1];
    while (true) {
        yield curr;
        [prev, curr] = [curr, prev + curr];
    }
}

const fib = fibonacci();
console.log(fib.next().value); // 1
console.log(fib.next().value); // 1
console.log(fib.next().value); // 2
```

### æ•°æ®ç»“æ„
- **Set**ï¼šå€¼çš„é›†åˆï¼Œå€¼å”¯ä¸€
  ```javascript
  const set = new Set([1, 2, 3, 3, 4]);
  console.log(set.size); // 4
  set.add(5);
  set.has(3); // true
  set.delete(2);
  ```

- **Map**ï¼šé”®å€¼å¯¹é›†åˆï¼Œé”®å¯ä»¥æ˜¯ä»»æ„ç±»å‹
  ```javascript
  const map = new Map();
  map.set('name', 'å¼ ä¸‰');
  map.set(123, 'æ•°å­—é”®');
  map.get('name'); // "å¼ ä¸‰"
  map.size; // 2
  ```

- **WeakSet å’Œ WeakMap**ï¼šå¼±å¼•ç”¨ç‰ˆæœ¬ï¼Œç”¨äºé˜²æ­¢å†…å­˜æ³„æ¼

### å…¶ä»–é‡è¦ç‰¹æ€§
- **Proxy å’Œ Reflect**ï¼šå…ƒç¼–ç¨‹æ”¯æŒ
  ```javascript
  const handler = {
      get(target, prop) {
          console.log(`è®¿é—®å±æ€§: ${prop}`);
          return target[prop];
      }
  };
  
  const proxy = new Proxy({name: "å¼ ä¸‰"}, handler);
  console.log(proxy.name); // è®¿é—®å±æ€§: name \n å¼ ä¸‰
  ```

- **äºŒè¿›åˆ¶å’Œå…«è¿›åˆ¶å­—é¢é‡**ï¼š`0b1010`ã€`0o755`
- **Number æ‰©å±•**ï¼š`Number.isNaN()`ã€`Number.isFinite()`ã€`Number.isInteger()`
- **Math æ‰©å±•**ï¼š`Math.trunc()`ã€`Math.sign()`ã€`Math.cbrt()` ç­‰
- **Array æ‰©å±•**ï¼š`Array.from()`ã€`Array.of()`ã€`find()`ã€`findIndex()`ã€`fill()`ã€`copyWithin()`
- **Object æ‰©å±•**ï¼š`Object.assign()`ã€`Object.is()`
- **String æ‰©å±•**ï¼š`startsWith()`ã€`endsWith()`ã€`includes()`ã€`repeat()`

## ES2016ï¼ˆES7ï¼‰
2016å¹´6æœˆå‘å¸ƒï¼ŒåŒ…å«2ä¸ªæ–°ç‰¹æ€§ã€‚

### æ ¸å¿ƒç‰¹æ€§
- **æ•°ç»„ includes æ–¹æ³•**ï¼šæ£€æŸ¥æ•°ç»„æ˜¯å¦åŒ…å«æŸä¸ªå€¼
  ```javascript
  const arr = [1, 2, 3, NaN];
  arr.includes(2); // true
  arr.includes(NaN); // trueï¼ˆindexOf æ— æ³•è¯†åˆ« NaNï¼‰
  ```

- **æŒ‡æ•°è¿ç®—ç¬¦**ï¼š`**` è¿ç®—ç¬¦
  ```javascript
  console.log(2 ** 3); // 8
  console.log(Math.pow(2, 3)); // 8ï¼ˆæ—§æ–¹æ³•ï¼‰
  ```

## ES2017ï¼ˆES8ï¼‰
2017å¹´6æœˆå‘å¸ƒï¼Œå¼•å…¥äº†å¼‚æ­¥ç¼–ç¨‹çš„é‡å¤§æ”¹è¿›ã€‚

### é©å‘½æ€§ç‰¹æ€§
- **async/await**ï¼šåŸºäº Promise çš„å¼‚æ­¥è¯­æ³•ç³–
  ```javascript
  // Promise æ–¹å¼
  function fetchData() {
      return fetch('/api/data')
          .then(response => response.json())
          .then(data => console.log(data))
          .catch(error => console.error(error));
  }
  
  // async/await æ–¹å¼
  async function fetchData() {
      try {
          const response = await fetch('/api/data');
          const data = await response.json();
          console.log(data);
      } catch (error) {
          console.error(error);
      }
  }
  
  // å¹¶è¡Œæ‰§è¡Œ
  async function parallel() {
      const [result1, result2] = await Promise.all([
          fetch('/api/1'),
          fetch('/api/2')
      ]);
  }
  ```

### å¯¹è±¡å¢å¼º
- **Object.values()**ï¼šè¿”å›å¯¹è±¡çš„å€¼æ•°ç»„
- **Object.entries()**ï¼šè¿”å›å¯¹è±¡çš„é”®å€¼å¯¹æ•°ç»„
  ```javascript
  const obj = {name: "å¼ ä¸‰", age: 25};
  
  Object.values(obj); // ["å¼ ä¸‰", 25]
  Object.entries(obj); // [["name", "å¼ ä¸‰"], ["age", 25]]
  
  // éå†å¯¹è±¡
  for (let [key, value] of Object.entries(obj)) {
      console.log(`${key}: ${value}`);
  }
  ```

- **Object.getOwnPropertyDescriptors()**ï¼šè·å–å¯¹è±¡æ‰€æœ‰å±æ€§æè¿°ç¬¦

### å­—ç¬¦ä¸²å¢å¼º
- **å­—ç¬¦ä¸²å¡«å……**ï¼š`padStart()` å’Œ `padEnd()`
  ```javascript
  '5'.padStart(3, '0'); // "005"
  'abc'.padEnd(5, '*'); // "abc**"
  ```

### å…¶ä»–ç‰¹æ€§
- **å‡½æ•°å‚æ•°å°¾é€—å·**ï¼šå…è®¸å‡½æ•°å‚æ•°åˆ—è¡¨å’Œè°ƒç”¨æ—¶çš„å°¾é€—å·
  ```javascript
  function foo(
      a,
      b,
      c,
  ) {
      // ...
  }
  ```

- **å…±äº«å†…å­˜å’ŒåŸå­æ“ä½œ**ï¼š`SharedArrayBuffer` å’Œ `Atomics`

## ES2018ï¼ˆES9ï¼‰
2018å¹´6æœˆå‘å¸ƒï¼Œè¿›ä¸€æ­¥å®Œå–„å¼‚æ­¥å’Œå¯¹è±¡æ“ä½œã€‚

### æ ¸å¿ƒç‰¹æ€§
- **å¼‚æ­¥è¿­ä»£**ï¼š`for await...of`
  ```javascript
  async function* asyncGenerator() {
      yield await Promise.resolve(1);
      yield await Promise.resolve(2);
      yield await Promise.resolve(3);
  }
  
  (async () => {
      for await (const num of asyncGenerator()) {
          console.log(num);
      }
  })();
  ```

- **Promise.finally()**ï¼šæ— è®ºæˆåŠŸæˆ–å¤±è´¥éƒ½æ‰§è¡Œ
  ```javascript
  fetch('/api/data')
      .then(response => response.json())
      .catch(error => console.error(error))
      .finally(() => console.log('è¯·æ±‚å®Œæˆ'));
  ```

### å¯¹è±¡å¢å¼º
- **å¯¹è±¡å±•å¼€è¿ç®—ç¬¦**ï¼šå¯¹è±¡çš„å‰©ä½™/å±•å¼€å±æ€§
  ```javascript
  const {a, b, ...rest} = {a: 1, b: 2, c: 3, d: 4};
  console.log(rest); // {c: 3, d: 4}
  
  const obj = {a: 1, b: 2};
  const newObj = {...obj, c: 3}; // {a: 1, b: 2, c: 3}
  ```

### æ­£åˆ™è¡¨è¾¾å¼å¢å¼º
- **å‘½åæ•è·ç»„**ï¼š
  ```javascript
  const pattern = /(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})/;
  const match = pattern.exec('2024-01-15');
  console.log(match.groups.year); // "2024"
  ```

- **åå‘æ–­è¨€**ï¼š`(?<=...)` å’Œ `(?<!...)`
- **dotAll æ¨¡å¼**ï¼š`s` æ ‡å¿—è®© `.` åŒ¹é…æ¢è¡Œç¬¦
- **Unicode å±æ€§è½¬ä¹‰**ï¼š`\p{...}` å’Œ `\P{...}`

## ES2019ï¼ˆES10ï¼‰
2019å¹´6æœˆå‘å¸ƒï¼Œå¸¦æ¥äº†å¤šä¸ªå®ç”¨ç‰¹æ€§ã€‚

### æ ¸å¿ƒç‰¹æ€§
- **Array.flat() å’Œ Array.flatMap()**ï¼šæ•°ç»„æ‰å¹³åŒ–
  ```javascript
  const arr = [1, 2, [3, 4, [5, 6]]];
  arr.flat(); // [1, 2, 3, 4, [5, 6]]
  arr.flat(2); // [1, 2, 3, 4, 5, 6]
  arr.flat(Infinity); // å®Œå…¨æ‰å¹³åŒ–
  
  const arr2 = [1, 2, 3];
  arr2.flatMap(x => [x, x * 2]); // [1, 2, 2, 4, 3, 6]
  ```

- **Object.fromEntries()**ï¼šå°†é”®å€¼å¯¹åˆ—è¡¨è½¬æ¢ä¸ºå¯¹è±¡
  ```javascript
  const entries = [['name', 'å¼ ä¸‰'], ['age', 25]];
  const obj = Object.fromEntries(entries);
  // {name: "å¼ ä¸‰", age: 25}
  
  // å¯¹è±¡è½¬æ¢
  const obj2 = {a: 1, b: 2, c: 3};
  const filtered = Object.fromEntries(
      Object.entries(obj2).filter(([key, value]) => value > 1)
  );
  ```

- **String.trimStart() å’Œ String.trimEnd()**ï¼šå»é™¤é¦–å°¾ç©ºç™½
  ```javascript
  '  hello  '.trimStart(); // "hello  "
  '  hello  '.trimEnd(); // "  hello"
  ```

### å…¶ä»–ç‰¹æ€§
- **å¯é€‰çš„ catch ç»‘å®š**ï¼šcatch å¯ä»¥çœç•¥å‚æ•°
  ```javascript
  try {
      // ...
  } catch {
      console.log('å‘ç”Ÿé”™è¯¯');
  }
  ```

- **Symbol.description**ï¼šè·å– Symbol çš„æè¿°
  ```javascript
  const sym = Symbol('æè¿°');
  console.log(sym.description); // "æè¿°"
  ```

- **Function.toString() æ”¹è¿›**ï¼šè¿”å›ç²¾ç¡®çš„æºä»£ç æ–‡æœ¬
- **JSON è¶…é›†**ï¼šå…è®¸ U+2028 å’Œ U+2029 å­—ç¬¦

## ES2020ï¼ˆES11ï¼‰
2020å¹´6æœˆå‘å¸ƒï¼Œå¼•å…¥äº†å¤šä¸ªé‡è¦ç‰¹æ€§ã€‚

### æ ¸å¿ƒç‰¹æ€§
- **å¯é€‰é“¾æ“ä½œç¬¦ï¼ˆOptional Chainingï¼‰**ï¼š`?.`
  ```javascript
  const user = {
      name: 'å¼ ä¸‰',
      address: {
          city: 'åŒ—äº¬'
      }
  };
  
  // ä¼ ç»Ÿæ–¹å¼
  const city = user && user.address && user.address.city;
  
  // å¯é€‰é“¾
  const city = user?.address?.city;
  const zipCode = user?.address?.zipCode; // undefined
  
  // å‡½æ•°è°ƒç”¨
  obj.method?.();
  
  // æ•°ç»„è®¿é—®
  arr?.[0];
  ```

- **ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ï¼ˆNullish Coalescingï¼‰**ï¼š`??`
  ```javascript
  // || çš„é—®é¢˜
  const count = 0;
  const result = count || 10; // 10ï¼ˆä¸ç¬¦åˆé¢„æœŸï¼‰
  
  // ?? åªåˆ¤æ–­ null å’Œ undefined
  const result = count ?? 10; // 0
  const result = null ?? 10; // 10
  const result = undefined ?? 10; // 10
  ```

- **BigInt**ï¼šä»»æ„ç²¾åº¦æ•´æ•°
  ```javascript
  const bigInt = 9007199254740991n;
  const alsoHuge = BigInt(9007199254740991);
  
  const result = bigInt + 1n; // 9007199254740992n
  
  // ä¸èƒ½ä¸ Number æ··ç”¨
  // bigInt + 1; // æŠ¥é”™
  ```

- **Promise.allSettled()**ï¼šç­‰å¾…æ‰€æœ‰ Promise å®Œæˆï¼ˆæ— è®ºæˆåŠŸæˆ–å¤±è´¥ï¼‰
  ```javascript
  const promises = [
      Promise.resolve(1),
      Promise.reject('é”™è¯¯'),
      Promise.resolve(3)
  ];
  
  Promise.allSettled(promises).then(results => {
      results.forEach(result => {
          if (result.status === 'fulfilled') {
              console.log('æˆåŠŸ:', result.value);
          } else {
              console.log('å¤±è´¥:', result.reason);
          }
      });
  });
  ```

### æ¨¡å—å¢å¼º
- **åŠ¨æ€ import()**ï¼šè¿è¡Œæ—¶åŠ¨æ€åŠ è½½æ¨¡å—
  ```javascript
  // æ¡ä»¶åŠ è½½
  if (condition) {
      import('./module.js').then(module => {
          module.doSomething();
      });
  }
  
  // async/await
  async function loadModule() {
      const module = await import('./module.js');
      module.doSomething();
  }
  ```

- **import.meta**ï¼šæ¨¡å—å…ƒæ•°æ®
  ```javascript
  console.log(import.meta.url); // æ¨¡å—çš„ URL
  ```

### å…¶ä»–ç‰¹æ€§
- **globalThis**ï¼šç»Ÿä¸€çš„å…¨å±€å¯¹è±¡
  ```javascript
  // æµè§ˆå™¨: window
  // Node.js: global
  // Web Workers: self
  
  // ç»Ÿä¸€è®¿é—®
  globalThis.setTimeout(...);
  ```

- **String.matchAll()**ï¼šè¿”å›æ‰€æœ‰åŒ¹é…çš„è¿­ä»£å™¨
  ```javascript
  const str = 'test1test2test3';
  const regex = /test(\d)/g;
  
  for (const match of str.matchAll(regex)) {
      console.log(match[0], match[1]);
  }
  ```

- **for-in é¡ºåºæ ‡å‡†åŒ–**ï¼šè§„èŒƒåŒ– for-in çš„éå†é¡ºåº

## ES2021ï¼ˆES12ï¼‰
2021å¹´6æœˆå‘å¸ƒï¼Œå¸¦æ¥äº†å¤šä¸ªå®ç”¨çš„æ–°ç‰¹æ€§ã€‚

### æ ¸å¿ƒç‰¹æ€§
- **é€»è¾‘èµ‹å€¼è¿ç®—ç¬¦**ï¼š`&&=`ã€`||=`ã€`??=`
  ```javascript
  // é€»è¾‘æˆ–èµ‹å€¼
  let x = 0;
  x ||= 10; // x = x || 10
  console.log(x); // 10
  
  // é€»è¾‘ä¸èµ‹å€¼
  let y = 5;
  y &&= 10; // y = y && 10
  console.log(y); // 10
  
  // ç©ºå€¼èµ‹å€¼
  let z = null;
  z ??= 10; // z = z ?? 10
  console.log(z); // 10
  ```

- **æ•°å­—åˆ†éš”ç¬¦**ï¼šæé«˜æ•°å­—å¯è¯»æ€§
  ```javascript
  const billion = 1_000_000_000;
  const bytes = 0xFF_FF_FF_FF;
  const pi = 3.14_15_92_65;
  ```

- **String.replaceAll()**ï¼šæ›¿æ¢æ‰€æœ‰åŒ¹é…é¡¹
  ```javascript
  const str = 'hello world hello';
  
  // ä¼ ç»Ÿæ–¹å¼
  str.replace(/hello/g, 'hi'); // "hi world hi"
  
  // replaceAll
  str.replaceAll('hello', 'hi'); // "hi world hi"
  ```

- **Promise.any()**ï¼šä»»æ„ä¸€ä¸ª Promise æˆåŠŸå³è¿”å›
  ```javascript
  const promises = [
      Promise.reject('é”™è¯¯1'),
      Promise.resolve('æˆåŠŸ'),
      Promise.reject('é”™è¯¯2')
  ];
  
  Promise.any(promises)
      .then(result => console.log(result)) // "æˆåŠŸ"
      .catch(error => console.error(error));
  
  // å¦‚æœå…¨éƒ¨å¤±è´¥ï¼Œè¿”å› AggregateError
  ```

### å…¶ä»–ç‰¹æ€§
- **WeakRef**ï¼šå¼±å¼•ç”¨å¯¹è±¡
  ```javascript
  const obj = {name: 'å¼ ä¸‰'};
  const weakRef = new WeakRef(obj);
  
  // è·å–å¼•ç”¨
  const deref = weakRef.deref();
  if (deref) {
      console.log(deref.name);
  }
  ```

- **FinalizationRegistry**ï¼šå¯¹è±¡è¢«åƒåœ¾å›æ”¶æ—¶çš„å›è°ƒ
- **é€»è¾‘èµ‹å€¼è¿ç®—ç¬¦çš„çŸ­è·¯ç‰¹æ€§**

## ES2022ï¼ˆES13ï¼‰
2022å¹´6æœˆå‘å¸ƒï¼Œè¿›ä¸€æ­¥å®Œå–„äº†ç±»å’Œæ¨¡å—ç³»ç»Ÿã€‚

### æ ¸å¿ƒç‰¹æ€§
- **ç±»å­—æ®µå£°æ˜**ï¼šç›´æ¥åœ¨ç±»ä¸­å£°æ˜å­—æ®µ
  ```javascript
  class Person {
      name = 'å¼ ä¸‰'; // å…¬å…±å­—æ®µ
      #age = 25; // ç§æœ‰å­—æ®µ
      
      getAge() {
          return this.#age;
      }
  }
  
  const p = new Person();
  console.log(p.name); // "å¼ ä¸‰"
  // console.log(p.#age); // æŠ¥é”™ï¼šç§æœ‰å­—æ®µ
  console.log(p.getAge()); // 25
  ```

- **ç§æœ‰æ–¹æ³•å’Œè®¿é—®å™¨**ï¼š
  ```javascript
  class Counter {
      #count = 0;
      
      #increment() {
          this.#count++;
      }
      
      get #privateCount() {
          return this.#count;
      }
      
      increase() {
          this.#increment();
          return this.#privateCount;
      }
  }
  ```

- **é™æ€ç±»å­—æ®µå’Œæ–¹æ³•**ï¼š
  ```javascript
  class MathUtils {
      static PI = 3.14159;
      static #secret = 'private';
      
      static area(radius) {
          return this.PI * radius * radius;
      }
      
      static #privateMethod() {
          return this.#secret;
      }
  }
  
  console.log(MathUtils.PI); // 3.14159
  console.log(MathUtils.area(5)); // 78.53975
  ```

- **ç±»é™æ€åˆå§‹åŒ–å—**ï¼š
  ```javascript
  class Database {
      static connection;
      
      static {
          // é™æ€åˆå§‹åŒ–å—
          this.connection = createConnection();
      }
  }
  ```

### å…¶ä»–ç‰¹æ€§
- **é¡¶å±‚ await**ï¼šæ¨¡å—é¡¶å±‚å¯ä»¥ç›´æ¥ä½¿ç”¨ await
  ```javascript
  // module.js
  const data = await fetch('/api/data');
  export default data;
  ```

- **Array.at()**ï¼šæ”¯æŒè´Ÿç´¢å¼•çš„æ•°ç»„è®¿é—®
  ```javascript
  const arr = [1, 2, 3, 4, 5];
  arr.at(-1); // 5
  arr.at(-2); // 4
  arr.at(0); // 1
  ```

- **Object.hasOwn()**ï¼šæ›´å®‰å…¨çš„å±æ€§æ£€æŸ¥
  ```javascript
  const obj = {name: 'å¼ ä¸‰'};
  
  // ä¼ ç»Ÿæ–¹å¼ï¼ˆå¯èƒ½æœ‰é—®é¢˜ï¼‰
  obj.hasOwnProperty('name'); // true
  
  // æ–°æ–¹å¼
  Object.hasOwn(obj, 'name'); // true
  ```

- **Error.cause**ï¼šé”™è¯¯é“¾
  ```javascript
  try {
      // ...
  } catch (error) {
      throw new Error('ä¸Šå±‚é”™è¯¯', {cause: error});
  }
  ```

- **æ­£åˆ™è¡¨è¾¾å¼ d æ ‡å¿—**ï¼šåŒ¹é…ç´¢å¼•

## ES2023ï¼ˆES14ï¼‰
2023å¹´6æœˆå‘å¸ƒï¼Œå¸¦æ¥äº†æ•°ç»„æ“ä½œçš„é‡è¦æ”¹è¿›ã€‚

### æ ¸å¿ƒç‰¹æ€§
- **Array.findLast() å’Œ Array.findLastIndex()**ï¼šä»åå‘å‰æŸ¥æ‰¾
  ```javascript
  const arr = [1, 2, 3, 4, 5];
  
  arr.findLast(x => x > 2); // 5
  arr.findLastIndex(x => x > 2); // 4
  ```

- **Array.toReversed()ã€toSorted()ã€toSpliced()**ï¼šä¸å¯å˜æ•°ç»„æ–¹æ³•
  ```javascript
  const arr = [3, 1, 2];
  
  // ä¼ ç»Ÿæ–¹å¼ï¼ˆä¼šä¿®æ”¹åŸæ•°ç»„ï¼‰
  arr.sort(); // [1, 2, 3]
  
  // æ–°æ–¹å¼ï¼ˆè¿”å›æ–°æ•°ç»„ï¼‰
  const sorted = arr.toSorted(); // [1, 2, 3]
  console.log(arr); // [3, 1, 2]ï¼ˆåŸæ•°ç»„ä¸å˜ï¼‰
  
  const reversed = arr.toReversed(); // [2, 1, 3]
  const spliced = arr.toSpliced(1, 1, 10); // [3, 10, 2]
  ```

- **Array.with()**ï¼šä¸å¯å˜çš„ç´¢å¼•æ›¿æ¢
  ```javascript
  const arr = [1, 2, 3];
  const newArr = arr.with(1, 10); // [1, 10, 3]
  console.log(arr); // [1, 2, 3]ï¼ˆåŸæ•°ç»„ä¸å˜ï¼‰
  ```

### å…¶ä»–ç‰¹æ€§
- **WeakMap æ”¯æŒ Symbol ä½œä¸ºé”®**ï¼š
  ```javascript
  const weakMap = new WeakMap();
  const sym = Symbol('key');
  const obj = {};
  weakMap.set(sym, obj);
  ```

- **#! Shebang è¯­æ³•**ï¼šæ”¯æŒ Unix Shebang
  ```javascript
  #!/usr/bin/env node
  console.log('Hello');
  ```

## ES2024ï¼ˆES15ï¼‰
2024å¹´6æœˆå‘å¸ƒï¼ŒåŒ…å«å¤šä¸ªå®ç”¨çš„æ–°ç‰¹æ€§ã€‚

### æ ¸å¿ƒç‰¹æ€§
- **Promise.withResolvers()**ï¼šæ›´æ–¹ä¾¿åœ°åˆ›å»º Promise
  ```javascript
  // ä¼ ç»Ÿæ–¹å¼
  let resolve, reject;
  const promise = new Promise((res, rej) => {
      resolve = res;
      reject = rej;
  });
  
  // æ–°æ–¹å¼
  const {promise, resolve, reject} = Promise.withResolvers();
  
  // ä½¿ç”¨åœºæ™¯
  class Queue {
      #items = [];
      #resolvers = [];
      
      async dequeue() {
          if (this.#items.length > 0) {
              return this.#items.shift();
          }
          const {promise, resolve} = Promise.withResolvers();
          this.#resolvers.push(resolve);
          return promise;
      }
      
      enqueue(item) {
          if (this.#resolvers.length > 0) {
              const resolve = this.#resolvers.shift();
              resolve(item);
          } else {
              this.#items.push(item);
          }
      }
  }
  ```

- **Object.groupBy() å’Œ Map.groupBy()**ï¼šæ•°ç»„åˆ†ç»„
  ```javascript
  const people = [
      {name: 'å¼ ä¸‰', age: 25},
      {name: 'æå››', age: 30},
      {name: 'ç‹äº”', age: 25}
  ];
  
  // æŒ‰å¹´é¾„åˆ†ç»„ï¼ˆè¿”å›å¯¹è±¡ï¼‰
  const grouped = Object.groupBy(people, person => person.age);
  // {
  //   25: [{name: 'å¼ ä¸‰', age: 25}, {name: 'ç‹äº”', age: 25}],
  //   30: [{name: 'æå››', age: 30}]
  // }
  
  // æŒ‰å¹´é¾„åˆ†ç»„ï¼ˆè¿”å› Mapï¼‰
  const groupedMap = Map.groupBy(people, person => person.age);
  ```

- **æ­£åˆ™è¡¨è¾¾å¼ v æ ‡å¿—**ï¼šUnicode é›†åˆç¬¦å·å’Œå±æ€§
  ```javascript
  // v æ ‡å¿—æ”¯æŒæ›´å¼ºå¤§çš„ Unicode åŒ¹é…
  const regex = /[\p{Script=Han}&&\p{Radical=äº»}]/v;
  ```

### å…¶ä»–ç‰¹æ€§
- **ArrayBuffer è½¬ç§»**ï¼š
  ```javascript
  const buffer = new ArrayBuffer(8);
  const newBuffer = buffer.transfer(16); // è½¬ç§»å¹¶è°ƒæ•´å¤§å°
  ```

- **Atomics.waitAsync()**ï¼šå¼‚æ­¥ç­‰å¾…å…±äº«å†…å­˜

## ES2025ï¼ˆES16ï¼‰
2025å¹´6æœˆå‘å¸ƒï¼ŒåŒ…å«8ä¸ªé‡è¦çš„æ–°ç‰¹æ€§ã€‚

### æ ¸å¿ƒç‰¹æ€§

#### 1. è¿­ä»£å™¨è¾…åŠ©æ–¹æ³•ï¼ˆIterator Helpersï¼‰
ä¸ºè¿­ä»£å™¨æä¾›é“¾å¼æ“ä½œæ–¹æ³•ï¼Œä½¿å…¶ä½¿ç”¨æ›´åŠ ä¾¿æ·ã€‚

```javascript
// åˆ›å»ºç”Ÿæˆå™¨
function* numberGenerator() {
    yield 1;
    yield 2;
    yield 3;
    yield 4;
    yield 5;
}

// map() - è½¬æ¢æ¯ä¸ªå€¼
const doubled = numberGenerator().map(x => x * 2);
console.log([...doubled]); // [2, 4, 6, 8, 10]

// filter() - è¿‡æ»¤å…ƒç´ 
const evens = numberGenerator().filter(x => x % 2 === 0);
console.log([...evens]); // [2, 4]

// take() - å–å‰ N ä¸ª
const first3 = numberGenerator().take(3);
console.log([...first3]); // [1, 2, 3]

// drop() - è·³è¿‡å‰ N ä¸ª
const after2 = numberGenerator().drop(2);
console.log([...after2]); // [3, 4, 5]

// flatMap() - æ‰å¹³åŒ–æ˜ å°„
const flattened = numberGenerator().flatMap(x => [x, x * 10]);
console.log([...flattened]); // [1, 10, 2, 20, 3, 30, 4, 40, 5, 50]

// reduce() - ç´¯ç§¯è®¡ç®—
const sum = numberGenerator().reduce((acc, x) => acc + x, 0);
console.log(sum); // 15

// é“¾å¼è°ƒç”¨
const arr = ['a', '', 'b', '', 'c', '', 'd', '', 'e'];
const result = arr.values()
    .filter(x => x.length > 0)
    .drop(1)
    .take(3)
    .map(x => `=${x}=`)
    .toArray();
console.log(result); // ['=b=', '=c=', '=d=']

// å…¶ä»–æ–¹æ³•
numberGenerator().forEach(x => console.log(x)); // éå†
numberGenerator().some(x => x % 2 === 0); // true - æ˜¯å¦å­˜åœ¨å¶æ•°
numberGenerator().every(x => x > 0); // true - æ˜¯å¦å…¨éƒ¨ä¸ºæ­£æ•°
numberGenerator().find(x => x > 3); // 4 - æŸ¥æ‰¾ç¬¬ä¸€ä¸ªåŒ¹é…

// Iterator.from() - ä»å¯è¿­ä»£å¯¹è±¡åˆ›å»º
const iter = Iterator.from([1, 2, 3]);
console.log([...iter.map(x => x * 2)]); // [2, 4, 6]
```

#### 2. Set æ–°æ–¹æ³•
æ–°å¢ä¸€ç³»åˆ—é›†åˆæ“ä½œæ–¹æ³•ã€‚

```javascript
const setA = new Set(['a', 'b', 'c']);
const setB = new Set(['b', 'c', 'd']);

// union() - å¹¶é›†
setA.union(setB); // Set(['a', 'b', 'c', 'd'])

// intersection() - äº¤é›†
setA.intersection(setB); // Set(['b', 'c'])

// difference() - å·®é›†
setA.difference(setB); // Set(['a'])

// symmetricDifference() - å¯¹ç§°å·®ï¼ˆå­˜åœ¨äºAæˆ–Bï¼Œä½†ä¸åŒæ—¶å­˜åœ¨ï¼‰
setA.symmetricDifference(setB); // Set(['a', 'd'])

// isSubsetOf() - åˆ¤æ–­æ˜¯å¦ä¸ºå­é›†
new Set(['a', 'b']).isSubsetOf(new Set(['a', 'b', 'c'])); // true

// isSupersetOf() - åˆ¤æ–­æ˜¯å¦ä¸ºè¶…é›†
new Set(['a', 'b', 'c']).isSupersetOf(new Set(['a', 'b'])); // true

// isDisjointFrom() - åˆ¤æ–­æ˜¯å¦ä¸ç›¸äº¤
new Set(['a', 'b']).isDisjointFrom(new Set(['c', 'd'])); // true
```

#### 3. Promise.try()
ç»Ÿä¸€å¤„ç†åŒæ­¥å’Œå¼‚æ­¥ä»£ç çš„é”™è¯¯ã€‚

```javascript
// ä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜
function compute() {
    try {
        const value = syncFuncMightThrow(); // å¯èƒ½æŠ›å‡ºåŒæ­¥é”™è¯¯
        return asyncFunc(value); // è¿”å› Promise
    } catch (error) {
        return Promise.reject(error);
    }
}

// ä½¿ç”¨ Promise.try()
function compute() {
    return Promise.try(() => {
        const value = syncFuncMightThrow();
        return asyncFunc(value);
    });
}

// å®é™…åº”ç”¨
Promise.try(() => {
    return riskyOperation();
})
.then(result => console.log('æˆåŠŸ:', result))
.catch(error => console.error('é”™è¯¯:', error));

// ä¼˜åŠ¿ï¼šç»Ÿä¸€äº†åŒæ­¥å’Œå¼‚æ­¥é”™è¯¯å¤„ç†
async function processData(data) {
    return Promise.try(() => {
        // è¿™é‡Œå¯èƒ½æ˜¯åŒæ­¥ä»£ç ï¼Œä¹Ÿå¯èƒ½æ˜¯å¼‚æ­¥ä»£ç 
        if (!data) throw new Error('æ•°æ®ä¸ºç©º');
        return fetch(`/api/${data}`);
    })
    .then(response => response.json())
    .catch(error => {
        console.error('å¤„ç†å¤±è´¥:', error);
        throw error;
    });
}
```

#### 4. RegExp.escape()
è½¬ä¹‰æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„ç‰¹æ®Šå­—ç¬¦ã€‚

```javascript
// é—®é¢˜åœºæ™¯
const userInput = '[hello]';
// new RegExp(userInput); // é”™è¯¯ï¼š[] æ˜¯ç‰¹æ®Šå­—ç¬¦

// ä½¿ç”¨ RegExp.escape()
const escaped = RegExp.escape(userInput); // '\[hello\]'
const regex = new RegExp(escaped);

// å®é™…åº”ç”¨ï¼šç§»é™¤æœªå¼•ç”¨çš„æ–‡æœ¬
function removeUnquotedText(str, text) {
    const regExp = new RegExp(
        `(?<!")${RegExp.escape(text)}(?!")`,
        'gu'
    );
    return str.replaceAll(regExp, 'â€¢');
}
removeUnquotedText('"yes" and yes and "yes"', 'yes');
// '"yes" and â€¢ and "yes"'

// æœç´¢åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²
const searchTerm = 'a+b*c?';
const pattern = new RegExp(RegExp.escape(searchTerm));
pattern.test('a+b*c?'); // true
pattern.test('aabbbbc'); // false
```

#### 5. å¯¼å…¥å±æ€§ï¼ˆImport Attributesï¼‰
æ”¯æŒå¯¼å…¥ JSON ç­‰é JavaScript èµ„æºã€‚

```javascript
// é™æ€å¯¼å…¥ JSON
import config from './config.json' with { type: 'json' };
console.log(config.apiUrl);

// åŠ¨æ€å¯¼å…¥ JSON
const configData = await import(
    './config.json',
    { with: { type: 'json' } }
);

// å¯¼å…¥ CSSï¼ˆå°†æ¥å¯èƒ½æ”¯æŒï¼‰
import styles from './styles.css' with { type: 'css' };

// å®é™…åº”ç”¨
// config.json
{
    "apiUrl": "https://api.example.com",
    "timeout": 5000
}

// app.js
import settings from './config.json' with { type: 'json' };

async function fetchData() {
    const response = await fetch(settings.apiUrl, {
        signal: AbortSignal.timeout(settings.timeout)
    });
    return response.json();
}
```

#### 6. æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ä¿®é¥°ç¬¦
åœ¨æ­£åˆ™è¡¨è¾¾å¼å†…éƒ¨ä½¿ç”¨ä¿®é¥°ç¬¦ã€‚

```javascript
// å†…è”æ ‡å¿— - å¯¹éƒ¨åˆ†è¡¨è¾¾å¼åº”ç”¨ä¿®é¥°ç¬¦
const regex = /^x(?i:hello)x$/;

regex.test('xHELLOx'); // true
regex.test('xhellox'); // true
regex.test('XhelloX'); // falseï¼ˆå¼€å¤´å’Œç»“å°¾çš„ x ä»ç„¶åŒºåˆ†å¤§å°å†™ï¼‰

// å®é™…åº”ç”¨ï¼šéƒ¨åˆ†ä¸åŒºåˆ†å¤§å°å†™
const pattern = /^(?i:mr|mrs|ms)\.\s+[A-Z][a-z]+$/;
pattern.test('Mr. Smith'); // true
pattern.test('mrs. Johnson'); // true
pattern.test('MS. Williams'); // true

// ç¦ç”¨ä¿®é¥°ç¬¦
const regex2 = /(?-i:HELLO)/i; // æ•´ä½“ä¸åŒºåˆ†å¤§å°å†™ï¼Œä½† HELLO éƒ¨åˆ†åŒºåˆ†å¤§å°å†™
```

#### 7. é‡å¤å‘½åæ•è·ç»„
å…è®¸åœ¨ä¸åŒåˆ†æ”¯ä¸­ä½¿ç”¨ç›¸åŒçš„ç»„åã€‚

```javascript
// ES2024 ä¹‹å‰ï¼Œæ•è·ç»„åå¿…é¡»å”¯ä¸€
// const RE_OLD = /(?<year>\d{4})-\d{2}|(?<year>\d{4})\/\d{2}/; // é”™è¯¯

// ES2025 å…è®¸åœ¨ä¸åŒåˆ†æ”¯ä¸­é‡å¤
const RE = /(?<year>\d{4})-(?<month>\d{2})|(?<year>\d{4})\/(?<month>\d{2})/v;

RE.exec('2024-01').groups; // { year: '2024', month: '01' }
RE.exec('2024/12').groups; // { year: '2024', month: '12' }

// å®é™…åº”ç”¨ï¼šåŒ¹é…ä¸åŒæ ¼å¼
const datePattern = /(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})|(?<month>\d{2})\/(?<day>\d{2})\/(?<year>\d{4})/v;

datePattern.exec('2024-01-15').groups;
// { year: '2024', month: '01', day: '15' }

datePattern.exec('01/15/2024').groups;
// { year: '2024', month: '01', day: '15' }

// å­—ç¬¦ç±»åŒ¹é…
const RE2 = /(?<chars>a+)|(?<chars>b+)/v;
RE2.exec('aaa').groups; // { chars: 'aaa' }
RE2.exec('bb').groups; // { chars: 'bb' }
```

#### 8. Float16Arrayï¼ˆ16ä½æµ®ç‚¹æ•°ï¼‰
æ”¯æŒåŠç²¾åº¦æµ®ç‚¹æ•°ï¼Œé€‚ç”¨äº WebGPU å’Œæœºå™¨å­¦ä¹ ã€‚

```javascript
// åˆ›å»º Float16Array
const arr = new Float16Array([1.5, 2.5, 3.5, 4.5]);

// å±æ€§
arr.BYTES_PER_ELEMENT; // 2ï¼ˆæ¯ä¸ªå…ƒç´ å 2å­—èŠ‚ï¼‰
arr.length; // 4
arr.byteLength; // 8

// Math.f16round() - è½¬æ¢ä¸ºæœ€æ¥è¿‘çš„ 16 ä½æµ®ç‚¹æ•°
Math.f16round(2.60); // 2.599609375
Math.f16round(2.50); // 2.5
Math.f16round(2.49); // 2.490234375

// DataView æ”¯æŒ
const buffer = new ArrayBuffer(8);
const view = new DataView(buffer);

view.setFloat16(0, 3.14);
view.getFloat16(0); // 3.140625

// å®é™…åº”ç”¨ï¼šèŠ‚çœå†…å­˜
// 32ä½æµ®ç‚¹æ•°æ•°ç»„
const float32 = new Float32Array([1.1, 2.2, 3.3]); // 12 å­—èŠ‚

// 16ä½æµ®ç‚¹æ•°æ•°ç»„ï¼ˆç²¾åº¦ç•¥ä½ä½†èŠ‚çœç©ºé—´ï¼‰
const float16 = new Float16Array([1.1, 2.2, 3.3]); // 6 å­—èŠ‚

// WebGPU ä½¿ç”¨åœºæ™¯
const vertices = new Float16Array([
    // x, y, z åæ ‡
    0.0, 0.5, 0.0,
    -0.5, -0.5, 0.0,
    0.5, -0.5, 0.0
]);
```

### æ­£åˆ™è¡¨è¾¾å¼ v æ ‡å¿—å¢å¼º
`v` æ ‡å¿—æ˜¯ `u`ï¼ˆunicodeï¼‰æ ‡å¿—çš„å‡çº§ç‰ˆï¼Œæ”¯æŒæ›´å¼ºå¤§çš„ Unicode åŒ¹é…ã€‚

```javascript
// åŒ¹é… emoji
const emojiPattern = /\p{RGI_Emoji}/v;
emojiPattern.test('Hello ğŸ˜€'); // true

// å­—ç¬¦ç±»è¿ç®—
// å¹¶é›†ã€äº¤é›†ã€å·®é›†
const pattern = /[\p{Script=Greek}&&\p{Letter}]/v;

// å­—ç¬¦ä¸²å±æ€§
const stringPattern = /\p{Emoji_Keycap_Sequence}/v;
stringPattern.test('1ï¸âƒ£'); // true
```

## æ€»ç»“

JavaScript ä»ç®€å•çš„è„šæœ¬è¯­è¨€å‘å±•åˆ°ä»Šå¤©çš„å…¨æ ˆå¼€å‘è¯­è¨€ï¼Œç»å†äº†å·¨å¤§çš„å˜åŒ–ï¼š

- **ES3ï¼ˆ1999ï¼‰**ï¼šå¥ å®šåŸºç¡€ï¼Œå¼•å…¥æ­£åˆ™å’Œå¼‚å¸¸å¤„ç†
- **ES5ï¼ˆ2009ï¼‰**ï¼šä¸¥æ ¼æ¨¡å¼ã€JSON æ”¯æŒã€æ•°ç»„æ–¹æ³•
- **ES6ï¼ˆ2015ï¼‰**ï¼šé‡Œç¨‹ç¢‘ç‰ˆæœ¬ï¼Œå¼•å…¥ classã€æ¨¡å—ã€Promiseã€ç®­å¤´å‡½æ•°ç­‰
- **ES2016-ES2025**ï¼šæ¯å¹´ä¸€ä¸ªç‰ˆæœ¬ï¼ŒæŒç»­æ”¹è¿›å’Œå®Œå–„

é‡ç‚¹å…³æ³¨çš„ç‰ˆæœ¬ï¼š
- **ES6ï¼ˆES2015ï¼‰**ï¼šå¿…é¡»æŒæ¡ï¼Œç°ä»£ JavaScript çš„åŸºç¡€
- **ES2017**ï¼šasync/await æ”¹å˜å¼‚æ­¥ç¼–ç¨‹
- **ES2020**ï¼šå¯é€‰é“¾å’Œç©ºå€¼åˆå¹¶æå¤§æå‡å¼€å‘ä½“éªŒ
- **ES2022**ï¼šç§æœ‰å­—æ®µå’Œæ–¹æ³•ä½¿ç±»æ›´åŠ å®Œå–„
- **ES2025**ï¼šè¿­ä»£å™¨è¾…åŠ©æ–¹æ³•ã€Set é›†åˆæ“ä½œã€Promise.try() ç­‰å®ç”¨ç‰¹æ€§

## å‚è€ƒèµ„æ–™
- [ECMAScript è§„èŒƒ](https://tc39.es/ecma262/)
- [TC39 ææ¡ˆæµç¨‹](https://tc39.es/process-document/)
- [MDN JavaScript æ–‡æ¡£](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript)
- [Can I Use](https://caniuse.com/)ï¼šæµè§ˆå™¨å…¼å®¹æ€§æŸ¥è¯¢

**ç¥ä½ å˜å¾—æ›´å¼º!**
