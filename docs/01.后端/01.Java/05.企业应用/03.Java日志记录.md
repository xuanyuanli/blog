---
title: Java日志记录
date: 2023-05-25 21:47:42
permalink: /pages/f38008/
categories:
  - 后端
  - Java
  - 企业应用
tags:
  - 
author: 
  name: 轩辕李
  link: https://github.com/xuanyuanli
---


https://www.digitalocean.com/community/tutorials/logger-in-java-logging-example

《Java日志系统》

## 一、引言
### 1.1 日志系统的重要性
### 1.2 日志系统的基本功能

## 二、Java中的日志系统概览
### 2.1 Java日志系统的角色和责任
### 2.2 不同日志系统的比较

## 三、Java内置日志工具：Java Util Logging（JUL）
### 3.1 JUL的概念和基本架构
### 3.2 JUL的主要特性
### 3.3 JUL的配置和使用
### 3.4 JUL的优点和缺点

## 四、简单日志门面：SLF4J
### 4.1 SLF4J的概念和基本架构
### 4.2 SLF4J的主要特性
### 4.3 SLF4J的配置和使用
### 4.4 SLF4J的优点和缺点
### 4.5 SLF4J与其他日志系统的比较

## 五、Apache Common Logging（JCL）
### 5.1 JCL的概念和基本架构
### 5.2 JCL的主要特性
### 5.3 JCL的配置和使用
### 5.4 JCL的优点和缺点
### 5.5 JCL与其他日志系统的比较

## 六、Logback
### 6.1 Logback的概念和基本架构
### 6.2 Logback的主要特性
### 6.3 Logback的配置和使用
### 6.4 Logback的优点和缺点
### 6.5 Logback与其他日志系统的比较

## 七、Apache Log4j
### 7.1 Log4j的概念和基本架构
### 7.2 Log4j的主要特性
### 7.3 Log4j的配置和使用
### 7.4 Log4j的优点和缺点
### 7.5 Log4j与其他日志系统的比较

## 八、Apache Log4j2
### 8.1 Log4j2的概念和基本架构
### 8.2 Log4j2的主要特性
### 8.3 Log4j2的配置和使用
### 8.4 Log4j2的优点和缺点
### 8.5 Log4j2与其他日志系统的比较

## 九、日志数据分析：Elasticsearch, Logstash, Kibana（ELK）
### 9.1 ELK的概念和基本架构
### 9.2 ELK的主要特性
### 9.3 ELK的配置和使用
### 9.4 ELK的优点和缺点
### 9.5 ELK与其他日志系统的比较

## 十、日志系统的选择
### 10.1 选择日志系统的关键因素
### 10.2 不同环境下的日志系统选择

## 十一、结论
### 11.1 日志系统的未来发展趋势
### 11.2 对Java日志系统的总结和建议


java.util.logging与slf4j的区别，为什么java.util.logging存在感很低

------------------------------

java.util.logging (JUL) 和 SLF4J 是两种不同的日志记录框架，它们在设计和使用上有一些区别。设计差异：JUL 是 Java 标准库中的日志记录框架，它在 Java 平台上具有原生支持。它的设计简单，易于使用，但功能相对较少。SLF4J（Simple Logging Facade for Java）是一个抽象层，提供了统一的日志记录接口，可以与多个底层日志记录框架进行集成。它的设计目标是提供更灵活、更强大的日志记录功能，同时能够无缝切换底层实现。功能和扩展性：JUL 提供了基本的日志记录功能，包括日志级别、格式化、过滤器等。然而，它的扩展性相对较弱，支持的功能有限。SLF4J 提供了更多的功能，例如日志记录器的继承关系、MDC（Mapped Diagnostic Context）、参数化日志、日志桥接等。同时，通过与不同的底层实现（如Logback、Log4j）集成，可以获得这些实现所提供的高级功能。生态系统和使用广度：由于 JUL 是 Java 标准库中的一部分，因此它无需额外的依赖项即可在 Java 平台上使用。然而，它的存在感较低，可能是因为功能较为有限，而且相对较早，没有像 SLF4J 那样积极发展和更新。SLF4J 在 Java 社区中更为流行，并且被广泛使用。它有一个更庞大的生态系统，许多第三方库和框架都选择使用 SLF4J 进行日志记录。SLF4J 的另一个优点是它可以与多个底层日志记录实现无缝集成，提供更大的灵活性和选择。综上所述，尽管 java.util.logging 是 Java 平台的原生日志记录框架，但由于功能相对有限，以及 SLF4J 和其他日志记录框架的发展和普及，因此它的存在感较低。在实际项目中，许多开发者更倾向于选择 SLF4J 或其他日志记录框架，以获得更丰富的功能和更好的扩展性。

------------------------------

为什么不推荐使用commons-logging

------------------------------

commons-logging 是一个抽象日志记录接口，旨在提供一个通用的日志记录接口，以便可以在运行时选择不同的底层日志记录实现。尽管 commons-logging 一度在 Java 社区中比较流行，但现在已经不再被广泛推荐使用，原因如下：缺乏活跃维护：commons-logging 目前的维护活动相对较少，没有像 SLF4J 或 Logback 这样的框架那样积极发展和更新。这导致 commons-logging 在功能和性能方面可能无法跟上最新的要求和标准。类加载器问题：commons-logging 在处理类加载器时存在一些问题。它使用了一种类加载器委派机制，但这可能导致在某些情况下无法正确加载底层日志记录实现。这可能导致意外的行为和类加载冲突。局限性和缺乏灵活性：commons-logging 提供的功能相对有限，并且在扩展性和自定义方面较为受限。相比之下，SLF4J 和 Logback 等日志记录框架提供了更丰富的功能和更高的灵活性，使开发者能够更好地满足项目的需求。社区支持和生态系统：SLF4J 和其他日志记录框架具有更庞大的社区支持和活跃的生态系统。许多开发者选择使用这些框架，这意味着可以更容易地获得支持、文档和集成其他库和工具。综上所述，虽然 commons-logging 曾经是常见的日志记录选择之一，但由于缺乏活跃维护、类加载器问题以及局限性和缺乏灵活性，现在已不再推荐使用。取而代之的是，开发者更倾向于选择 SLF4J、Logback 或其他日志记录框架，以获得更好的功能、性能和灵活性。

------------------------------

logback和log4j2的对比

------------------------------

Logback 和 Log4j 2 都是流行的 Java 日志记录框架，它们在功能、性能和特性上有所不同。下面是 Logback 和 Log4j 2 的对比：性能和吞吐量：Logback 的性能通常比 Log4j 2 略好，尤其在高负载情况下。它经过优化，具有高效的异步日志记录机制，可以在减少阻塞的同时提供更高的吞吐量。Log4j 2 在性能方面也非常出色，尤其是在使用异步日志记录器和异步 Appenders 时。它引入了异步日志记录器和多线程日志事件处理，以提高性能并减少对应用程序的影响。配置和灵活性：Logback 使用简单的 XML 配置文件或 Groovy 脚本进行配置。它提供了丰富的配置选项，包括灵活的过滤器和 Appenders 配置，允许开发者根据具体需求进行细粒度的配置和定制。Log4j 2 使用 XML、JSON 或属性文件进行配置。它引入了插件式架构，允许通过插件扩展和自定义日志记录器、Appenders 和过滤器。它还提供了更灵活的日志事件路由和动态配置能力。生态系统和社区支持：Logback 和 Log4j 2 都有庞大的生态系统和活跃的社区支持。许多开发者和框架选择使用其中之一作为首选的日志记录框架。Log4j 2 作为 Log4j 的后续版本，继承了其强大的生态系统和广泛的第三方插件支持。它具有更多的集成和扩展选项。迁移和兼容性：Logback 的配置文件格式与 Log4j 不兼容，因此从 Log4j 迁移到 Logback 可能需要一些修改和调整。Log4j 2 提供了兼容 Logback 配置的桥接器，使得从 Logback 迁移到 Log4j 2 变得更容易。这允许开发者在保留现有配置的同时，享受 Log4j 2 的性能和功能优势。综上所述，Logback 和 Log4j 2 都是强大的日志记录框架，它们在性能、配置灵活性和生态系统支持方面有所不同。开发者可以根据项目需求和个人偏好选择适合的框架。如果项目已经使用 Log4j，迁移到 Log4j 2 可能是一个更平滑的转换。


各种的桥接，比如把JUL桥接到SLF4J上
